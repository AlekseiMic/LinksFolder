<app-link-form
  [directory]="[{ value: directory, label: '' }]"
  [showDescription]="!hasLinks()"
></app-link-form>

<section *ngIf="canEdit && directory">
  <div *ngIf="hasLinks()">
    <div *ngFor="let code of codes ?? []" class="link">
      <span>Your link: </span>
      <a target="_blank" href="{{ getLink(code.code) }}">
        {{ getLink(code.code) }}
      </a>
      <div class="actions">
        <button (click)="copyLink(code.code)">
          <svg-icon name="copy-icon"></svg-icon>
        </button>
        <button (click)="editAccess(directory, code.id)">
          <svg-icon name="pen-icon"></svg-icon>
        </button>
        <button (click)="extendLinkLifetime(directory, code.id)">
          <svg-icon name="clock-icon"></svg-icon>
        </button>
      </div>
    </div>
  </div>
</section>

<div *ngIf="hasLinks() || canEdit" class="list">
  <div class="item" *ngFor="let link of links">
    <a href="{{ link.url }}" target="_blank">{{ link.text ?? link.url }}</a>
    <div *ngIf="canEdit" class="actions">
      <button class="edit" btn (click)="edit(link.id)">
        <svg-icon name="gear-icon"></svg-icon>
      </button>
      <button class="delete" btn (click)="delete(link.id)">
        <svg-icon name="trash-icon"></svg-icon>
      </button>
    </div>
  </div>
</div>
<div *ngIf="!hasLinks() && !canEdit" class="no-data">
  <h2>OOPS! nothing found</h2>
  <a [routerLink]="['/']"> Go Home </a>
</div>
