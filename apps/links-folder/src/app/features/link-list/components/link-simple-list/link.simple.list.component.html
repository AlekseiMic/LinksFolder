<app-simple-link-form
  *ngIf="canEdit"
  [hasLinks]="hasLinks"
  (onSubmit)="onCreateLinks($event)"
></app-simple-link-form>

<section *ngIf="directory && hasLinks && codes.length">
  <div *ngFor="let code of codes" rounded btn primary class="link">
    <span>Your link: </span>
    <a target="_blank" href="{{ getLink(code.code) }}">
      {{ getLink(code.code) }}
    </a>
    <div class="absolute ml-[5px] flex top-0 left-full gap-x-[5px]">
      <button
        btn
        primary
        rounded
        class="w-[45px] h-[45px] p-1"
        (click)="copyLink(code.code)"
      >
        <svg-icon class="w-[25px]" name="copy-icon"></svg-icon>
      </button>
      <button
        btn
        primary
        rounded
        class="w-[45px] h-[45px] p-1"
        *ngIf="canEdit"
        (click)="editAccess(directory, code.id)"
      >
        <svg-icon class="w-[25px]" name="pen-icon"></svg-icon>
      </button>
      <button
        btn
        primary
        rounded
        class="w-[45px] h-[45px] p-1"
        *ngIf="canEdit"
        (click)="extendLinkLifetime(directory, code.id)"
      >
        <svg-icon class="w-[25px]" name="clock-icon"></svg-icon>
      </button>
    </div>
  </div>
</section>

<div *ngIf="hasLinks" class="list">
  <div class="item" *ngFor="let link of links">
    <a href="{{ link.url }}" target="_blank">{{ link.text }}</a>
    <div *ngIf="canEdit" class="actions">
      <button class="edit" btn (click)="edit(link.id)">
        <svg-icon name="gear-icon"></svg-icon>
      </button>
      <button class="delete" btn (click)="delete(link.id)">
        <svg-icon name="trash-icon"></svg-icon>
      </button>
    </div>
  </div>
</div>
