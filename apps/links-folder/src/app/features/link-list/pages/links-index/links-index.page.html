<section *ngIf="root?.editable && baseDir">
  <app-link-form
    [directory]="baseDir"
    [showDescription]="!hasLinks()"
  ></app-link-form>

  <div *ngIf="!isAuthorized && baseDir && hasLinks()">
    <div *ngFor="let code of root?.codes ?? []" class="link">
      <span>Your link: </span>
      <a target="_blank" href="{{getLink(code.code)}}">
        {{getLink(code.code)}}
      </a>
      <div class="actions">
        <button (click)="copyLink(code.code)">
          <svg-icon name="copy-icon"></svg-icon>
        </button>
        <button (click)="edit(baseDir, code.id)">
          <svg-icon name="pen-icon"></svg-icon>
        </button>
        <button (click)="extendLinkLifetime(baseDir, code.id)">
          <svg-icon name="clock-icon"></svg-icon>
        </button>
      </div>
    </div>
  </div>
</section>

<section *ngIf="baseDir && hasLinks() && (!root?.editable || !isAuthorized)">
  <app-link-simple-list
    [links]="root?.links ?? []"
    [canEdit]="root?.editable"
    [directory]="baseDir"
  ></app-link-simple-list>
</section>

<section *ngIf="hasLinks() && (!root?.isGuest && isAuthorized)">
  <app-link-not-simple-list
    [lists]="list"
    [directory]="baseDir"
  ></app-link-not-simple-list>
</section>
