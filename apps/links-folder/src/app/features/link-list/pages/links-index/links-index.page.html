<section *ngIf="canEdit">
  <app-link-form
    [directory]="dir"
    [showDescription]="list.length <= 0"
  ></app-link-form>

  <div *ngIf="!isAuthorized && dir && list.length > 0">
    <div *ngFor="let code of codes" class="link">
      <span>Your link: </span>
      <a target="_blank" href="{{getLink(code.code)}}">
        {{getLink(code.code)}}
      </a>
      <div class="actions">
        <button (click)="copyLink(code.code)">
          <svg-icon name="copy-icon"></svg-icon>
        </button>
        <button (click)="edit(dir, code.id)">
          <svg-icon name="pen-icon"></svg-icon>
        </button>
        <button (click)="extendLinkLifetime(dir, code.id)">
          <svg-icon name="clock-icon"></svg-icon>
        </button>
      </div>
    </div>
  </div>
</section>

<section *ngIf="list.length > 0 && (!canEdit || !isAuthorized)">
  <app-link-simple-list
    [links]="list"
    [canEdit]="canEdit"
    [directory]="dir"
  ></app-link-simple-list>
</section>
